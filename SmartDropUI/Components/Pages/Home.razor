@page "/"
@using SmartDropUI.Models
@using SmartDropUI.Services
@inject RiegoService RiegoService
@inject AuthService AuthService
@inject NavigationManager Navigation
@rendermode InteractiveServer

<PageTitle>SmartDrop - Sistema de Riego</PageTitle>

@if (vista == "login")
{
    <Login OnLoginExitoso="IrADashboard" OnIrARegistro="IrARegistro" />
}
else if (vista == "registro")
{
    <Registro OnRegistroExitoso="IrALogin" OnVolverALogin="IrALogin" />
}
else if (vista == "dashboard")
{
    <Dashboard OnIrAHistorial="IrAHistorial" OnCerrarSesion="IrALogin" />
}
else if (vista == "historial")
{
    <Historial OnIrADashboard="IrADashboard" OnCerrarSesion="IrALogin" />
}

@code {
    private string vista = "login";

    // Métodos de navegación
    private void IrALogin() => vista = "login";
    private void IrARegistro() => vista = "registro";
    private void IrADashboard() => vista = "dashboard";
    private void IrAHistorial() => vista = "historial";
}


@* PRUEBAS: 
Usuario: admin
Contraseña: admin123

Usuario: operario
Contraseña: operario123

Usuario: usuario
Contraseña: usuario123 *@